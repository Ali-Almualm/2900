{# templates/base.html or bookings/templates/bookings/base.html #}

<html lang="en">
<head>
    {% load static %}
    {# ... other head elements ... #}
    <meta name="csrf-token" content="{{ csrf_token }}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}BoockMe{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    {# --- Remove style for username display from here if added before --- #}
    {# We will add new styles in styles.css #}
</head>
<body>
    <header>
        {# --- NEW: Wrapper for Title and Username --- #}
        <div class="header-main">
            <h1>BoockMe</h1>
            {# --- MOVED USERNAME DISPLAY --- #}
            {% if user.is_authenticated %}
            <span class="user-welcome">Welcome, {{ user.username }}!</span>
            {% endif %}
            {# --- END MOVED USERNAME DISPLAY --- #}
        </div>
        {# --- End Wrapper --- #}

        <nav>
            <a href="{% url 'index' %}">Home</a> |
            <a href="{% url 'pool' %}">Pool</a> |
            <a href="{% url 'switch' %}">Nintendo Switch</a> |
            <a href="{% url 'table_tennis' %}">Table Tennis</a> |

            <a href="{% url 'leaderboard' %}">Leaderboard</a> |
        
            
            {% if user.is_authenticated %}
                <a href="{% url 'select_match_availability_activity' %}">Set Match Availability</a> |
                <a href="{% url 'find_matches' activity_type='pool' %}">Find Matches</a> |
                <a href="{% url 'create_competition' %}">Create Competition</a> |
                <a href="{% url 'match_history' %}">Match History</a> |
                <a href="{% url 'profile' %}">Profile</a> |
                <a href="{% url 'logout' %}">Logout</a>
                {# Username span removed from here #}
            {% else %}
                <a href="{% url 'login' %}">Login</a> |
                <a href="{% url 'register' %}">Register</a>
            {% endif %}

            {% if user.is_staff %}
                | <a href="{% url 'admin:index' %}">Admin</a>
            {% endif %}
        </nav>
    </header>

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer>
        <p>&copy; {% now "Y" %} BookMe - Activity Booking System</p>
    </footer>
</body>
</html>